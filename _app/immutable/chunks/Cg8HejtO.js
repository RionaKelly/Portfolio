import{B as S,y as h,j as b,E as R,a2 as v,a3 as D,h as L,f as T,a4 as d,v as E,C as y,ap as g,k as o,ae as q,af as x,U as B,aD as C,al as F}from"./D6BBAAZr.js";function U(s,r,e=!1){h&&b();var i=s,f=null,a=null,l=g,k=e?R:0,c=!1;const I=(n,t=!0)=>{c=!0,u(t,n)},u=(n,t)=>{if(l===(l=n))return;let _=!1;if(h){const N=i.data===v;!!l===N&&(i=D(),L(i),T(!1),_=!0)}l?(f?d(f):t&&(f=E(()=>t(i))),a&&y(a,()=>{a=null})):(a?d(a):t&&(a=E(()=>t(i))),f&&y(f,()=>{f=null})),_&&T(!0)};S(()=>{c=!1,r(I),c||u(null,null)},k),h&&(i=o)}function A(s,r){return s===r||(s==null?void 0:s[F])===r}function Y(s={},r,e,i){return q(()=>{var f,a;return x(()=>{f=a,a=[],B(()=>{s!==e(...a)&&(r(s,...a),f&&A(e(...f),s)&&r(null,...f))})}),()=>{C(()=>{a&&A(e(...a),s)&&r(null,...a)})}}),s}export{Y as b,U as i};
